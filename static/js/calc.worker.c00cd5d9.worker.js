!function(t){var n={};function r(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=n,r.d=function(t,n,o){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)r.d(o,i,function(n){return t[n]}.bind(null,i));return o},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/gravity/",r(r.s=0)}([function(t,n,r){self.addEventListener("message",(function(t){let n=15e-6,r=[],i=[],e=[],s=!1;"running"===t.data.type&&!0===t.data.info&&(s=!0);"running"===t.data.type&&!1===t.data.info&&(s=!1,r=[],i=[]);const u=t=>{let r=h(t.ballIdx),i=new o(t.mass,t.mass);r.divide(i),r.multiplyScalar(n);let e=new o(t.vel.x,t.vel.y),s=new o(t.pos.x,t.pos.y);e.add(r);let u=new o(e.x,e.y);return u.multiplyScalar(n),s.add(u),{pos:s,vel:e,mass:t.mass,color:t.color,ballIdx:t.ballIdx}},h=t=>{let n=new o(0,0);return i.forEach(((r,e)=>{if(t!==e){let r=((t,n)=>{let r=t.pos.distanceSq(n.pos),i=400*t.mass*n.mass/(r+.2*r);r<5&&(i=0);let e={};e.pos=new o(0,0),e.pos.copy(n.pos);let s=e.pos.subtract(t.pos);return s.normalize(),s.multiplyScalar(i),s})(i[t],i[e]);n.add(r)}})),n},p=()=>{for(let t=0;t<1e4;t++){let t=[];i.forEach(((n,r)=>{let o=u(n);t[r]=o})),e=t,i=t}this.postMessage(e)};s&&(r=t.data.animationInfo,i=r.map((t=>({pos:new o(t.pos.x,t.pos.y),vel:new o(t.vel.x,t.vel.y),color:t.color,mass:t.mass,ballIdx:t.ballIdx}))),this.setInterval(p,20))}));let o=r(1)},function(t,n){function r(t,n){if(!(this instanceof r))return new r(t,n);this.x=t||0,this.y=n||0}t.exports=r,r.fromArray=function(t){return new r(t[0]||0,t[1]||0)},r.fromObject=function(t){return new r(t.x||0,t.y||0)},r.prototype.addX=function(t){return this.x+=t.x,this},r.prototype.addY=function(t){return this.y+=t.y,this},r.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},r.prototype.addScalarX=function(t){return this.x+=t,this},r.prototype.addScalarY=function(t){return this.y+=t,this},r.prototype.subtractX=function(t){return this.x-=t.x,this},r.prototype.subtractY=function(t){return this.y-=t.y,this},r.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},r.prototype.subtractScalarX=function(t){return this.x-=t,this},r.prototype.subtractScalarY=function(t){return this.y-=t,this},r.prototype.divideX=function(t){return this.x/=t.x,this},r.prototype.divideY=function(t){return this.y/=t.y,this},r.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},r.prototype.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},r.prototype.divideScalarX=function(t){return 0!==t?this.x/=t:this.x=0,this},r.prototype.divideScalarY=function(t){return 0!==t?this.y/=t:this.y=0,this},r.prototype.invertX=function(){return this.x*=-1,this},r.prototype.invertY=function(){return this.y*=-1,this},r.prototype.invert=function(){return this.invertX(),this.invertY(),this},r.prototype.multiplyX=function(t){return this.x*=t.x,this},r.prototype.multiplyY=function(t){return this.y*=t.y,this},r.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},r.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},r.prototype.multiplyScalarX=function(t){return this.x*=t,this},r.prototype.multiplyScalarY=function(t){return this.y*=t,this},r.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):this.divide(r(t,t)),this},r.prototype.norm=r.prototype.normalize,r.prototype.limit=function(t,n){return Math.abs(this.x)>t&&(this.x*=n),Math.abs(this.y)>t&&(this.y*=n),this},r.prototype.randomize=function(t,n){return this.randomizeX(t,n),this.randomizeY(t,n),this},r.prototype.randomizeX=function(t,n){var r=Math.min(t.x,n.x),o=Math.max(t.x,n.x);return this.x=i(r,o),this},r.prototype.randomizeY=function(t,n){var r=Math.min(t.y,n.y),o=Math.max(t.y,n.y);return this.y=i(r,o),this},r.prototype.randomizeAny=function(t,n){return Math.round(Math.random())?this.randomizeX(t,n):this.randomizeY(t,n),this},r.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},r.prototype.toFixed=function(t){return"undefined"===typeof t&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},r.prototype.mixX=function(t,n){return"undefined"===typeof n&&(n=.5),this.x=(1-n)*this.x+n*t.x,this},r.prototype.mixY=function(t,n){return"undefined"===typeof n&&(n=.5),this.y=(1-n)*this.y+n*t.y,this},r.prototype.mix=function(t,n){return this.mixX(t,n),this.mixY(t,n),this},r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.copyX=function(t){return this.x=t.x,this},r.prototype.copyY=function(t){return this.y=t.y,this},r.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},r.prototype.zero=function(){return this.x=this.y=0,this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.cross=function(t){return this.x*t.y-this.y*t.x},r.prototype.projectOnto=function(t){var n=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=n*t.x,this.y=n*t.y,this},r.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},r.prototype.horizontalAngleDeg=function(){return e(this.horizontalAngle())},r.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},r.prototype.verticalAngleDeg=function(){return e(this.verticalAngle())},r.prototype.angle=r.prototype.horizontalAngle,r.prototype.angleDeg=r.prototype.horizontalAngleDeg,r.prototype.direction=r.prototype.horizontalAngle,r.prototype.rotate=function(t){var n=this.x*Math.cos(t)-this.y*Math.sin(t),r=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=n,this.y=r,this},r.prototype.rotateDeg=function(t){return t=s(t),this.rotate(t)},r.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},r.prototype.rotateToDeg=function(t){return t=s(t),this.rotateTo(t)},r.prototype.rotateBy=function(t){var n=this.angle()+t;return this.rotate(n)},r.prototype.rotateByDeg=function(t){return t=s(t),this.rotateBy(t)},r.prototype.distanceX=function(t){return this.x-t.x},r.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},r.prototype.distanceY=function(t){return this.y-t.y},r.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},r.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},r.prototype.distanceSq=function(t){var n=this.distanceX(t),r=this.distanceY(t);return n*n+r*r},r.prototype.length=function(){return Math.sqrt(this.lengthSq())},r.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},r.prototype.magnitude=r.prototype.length,r.prototype.isZero=function(){return 0===this.x&&0===this.y},r.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},r.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},r.prototype.toArray=function(){return[this.x,this.y]},r.prototype.toObject=function(){return{x:this.x,y:this.y}};var o=180/Math.PI;function i(t,n){return Math.floor(Math.random()*(n-t+1)+t)}function e(t){return t*o}function s(t){return t/o}}]);
//# sourceMappingURL=calc.worker.c00cd5d9.worker.js.map